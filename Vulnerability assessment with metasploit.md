## Metasploitable2 in linux

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/bea603d4-4324-436f-89ef-f52b37221798)

Scanning with nmap

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/b0913b39-8a95-46b8-ba34-cd0fa72b9979)

There are many exploit here

Firstly we choose the vsftpd 2.3.4

We search this exploit in the metasploit using search command

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/bf3e48b6-1818-4998-91c9-4086b8323674)
![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/6a0aabae-f965-48f9-9f98-6f95243a04bc)

now we can use this exploit using use 0 command

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/e51384f9-291a-44c0-97fb-80419a87bb9a)

after using the info 0 we could see that we need to set the RHOSTS

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/22936929-9c12-4414-bf0e-2ab7de2803e2)

after setting the host, running the command we were able to get root shell access into the metasploit system

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/5026d43d-3cd9-411d-baff-83250f3ffe89)
![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/12cfb8c1-11be-4b69-b049-26203963bee9)

Samba is running on port 139 and 445 so we will use a samba based exploit next

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/d73a248f-a9c4-4e80-be61-1f65fe0bbccb)

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/370cc423-0aa8-478c-b249-f0f7a0868f68)
![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/fd39f0df-079d-432e-8829-55968bb7dbe7)

selected the exploit, now to assing the RHOST

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/df7b4730-bff6-4314-b597-f3ab09a04571)
![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/14d16d58-d480-486c-8d1c-f2a1e0c2bd87)
![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/ca123fd8-78ae-4361-9a52-f96ced197426)

exploit worked and a reverse root shell was established to the metasploitable machine.

![image](https://github.com/Nifalnasar/Cyber-Security-Lab/assets/141356053/425bb5ef-c7c8-4047-8b74-c770ebdec883)

## Windows 10 Machine

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3f2eced8-0199-4121-a42f-2db93355beb6)

This is the target windows machine, we will try to get a remote shell here.

![Screenshot 2024-03-24 182756](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/c4d62a46-9ff5-4a4a-b1ba-0e5b05034fc5)

created a payload.

senting the payload by addind it in the html directory under `/var/www/html/`

![Screenshot 2024-03-24 182824](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/ebc7c7d9-c138-4633-bb75-dbd0f499700d)

now accessing it in the windows vm by typing in the kali IP as URL 

![Screenshot 2024-03-24 183053](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/dfd4a0a6-4b3c-423d-87ef-28f5854fea6d)

setting up the listner on kali vm

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/4881c68e-c199-4b29-bdcb-a6e6bd7d2222)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/612bc450-cd36-4877-bcdc-ac80f29da338)

setting the LHOST to the ip of kali vm

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/fc482a46-e6e0-4736-85cc-068d87b6dfc5)

now run the exploit and execute the payload in windows vm

![Screenshot 2024-03-24 183352](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/f3fdd52b-1275-4a6b-9636-c90a5e9c7106)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/4a56e2ff-c53f-4923-9eb1-67e152d0c0dc)

Now we have acess on the windows victim machine


